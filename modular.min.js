!function(){return function t(e,o,r){function i(s,u){if(!o[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(n)return n(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=o[s]={exports:{}};e[s][0].call(l.exports,function(t){return i(e[s][1][t]||t)},l,l.exports,t,e,o,r)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}}()({1:[function(t,e,o){t("./main")},{"./main":2}],2:[function(t,e,o){!function(t){for(var e in t)this[e]=t[e]}(function(){"use strict";t("./util/promise");var e=t("./util/polyfill"),o=t("./util/queue"),r=t("./util/word"),i=(t("./util/ajax"),t("./util/util")),n=t("./module/loader"),s=t("./module/config");e();var u=new s,a=new o,c={};return n.init(u),c[r.REQUIRE_JS]=function(t){return n.syncLoadModuleJs(i.getNameFromPath(t),u.getResourceUrl(t),u.getLibData(t))},c[r.REQUIRE_PAGE]=function(t,e){return void 0===e?n.syncLoadModuleNode(i.getNameFromPath(t),u.getRequestUrl(t),u.getLibData(t)):n.syncLoadModuleNodeByName(i.getNameFromPath(t),u.getRequestUrl(t),u.getLibData(t),e)},c[r.REQUIRE_VIEW]=function(t){return n.syncLoadModuleView(i.getNameFromPath(t),u.getRequestUrl(t),u.getLibData(t))},c[r.REQUIRE_IMPORT]=function(t,e){a.offer(function(){setTimeout(function(){n.imports(t,u,function(t,o){e.apply(t,t),o()})},20)})},c[r.MODULAR_CONFIGURE]={config:function(t){u.set(t)}},c}())},{"./module/config":3,"./module/loader":4,"./util/ajax":9,"./util/polyfill":11,"./util/promise":12,"./util/queue":13,"./util/util":14,"./util/word":15}],3:[function(t,e,o){"use strict";t("../util/word");var r=t("../util/util"),i=(t("./module"),function(t){this._self_={es6:!1,resource:{path:"",excludePattern:"",isRemovePatten:!0},request:{path:"",excludePattern:"",isRemovePatten:!0},lib:{},shim:{},defaultDeps:{require:[],request:[],requestView:[]}}});i.prototype.set=function(t){var e=function(t,o){r.eachObj(o,function(r,i){"object"==typeof o[r]&&Object.keys(o[r]).length>0&&e(t[r],o[r]),null!=o[r]&&"object"!=typeof o[r]&&void 0!==t&&(t[r]=o[r])})};e(this._self_,t);var o=this._self_.lib;r.eachObj(t.lib,function(t,e){o[t]=e});var i=this._self_.shim;r.eachObj(t.shim,function(t,e){i[t]=e}),this.setConfigValidator(this._self_)},i.prototype.setConfigValidator=function(t){t.resource.isRemovePatten=!0===t.resource.isRemovePatten,t.request.isRemovePatten=!0===t.request.isRemovePatten,t.resource.excludePattern=null==t.resource.excludePattern?void 0:t.resource.excludePattern,t.request.excludePattern=null==t.request.excludePattern?void 0:t.request.excludePattern},i.prototype.getResourceUrl=function(t){return this.makePath(t,this._self_.resource)},i.prototype.getRequestUrl=function(t){return this.makePath(t,this._self_.request)},i.prototype.getLibData=function(t){var e=this._self_.lib[t];if(void 0!==e)return{self:e.self||t,propPath:e.path||t,path:this.concat(this._self_.lib[t].path,this._self_.resource.path),isGlobal:!!e.self}},i.prototype.makePath=function(t,e){void 0!==t&&""!==t.replace(/\s/gi)||r.error("There is empty path");var o=this._self_.lib;if(o.hasOwnProperty(t)&&o[t].hasOwnProperty("path"))return this.concat(o[t].path,e.path);var i=this.isExcludePattern(t,e.excludePattern);return t=e.isRemovePatten?t.replace(e.excludePattern,""):t,i?t:this.concat(t,e.path)},i.prototype.concat=function(t,e){return(t=null!=e&&"string"==typeof e?e+t:t).replace(/\/\//g,"/")},i.prototype.isExcludePattern=function(t,e){var o=!1;if("/"===e)return!0;if(void 0!==e){e.split(",").map(function(t){return t.replace(/\s/gi,"")});-1!==t.indexOf(e)&&(o=!0)}return o},e.exports=i},{"../util/util":14,"../util/word":15,"./module":7}],4:[function(t,e,o){(function(o){"use strict";var r=t("../util/promise"),i=t("../util/queue"),n=t("../util/cache"),s=t("../util/word"),u=t("../util/ajax"),a=t("../util/util"),c=t("./module-view"),l=t("./module"),p=function(){this._isDefine_=!1,this._defineQueue_=new i,this._cache_=new n};p.prototype.init=function(t){this._defineQueue_.stop();var e=function(e,o,r){var i=this;void 0===r&&(r=o,o=e,e=void 0),void 0===r&&(r=o,o=void 0);var n=void 0,s=!0;"string"==typeof e?n=e:"object"==typeof e&&(n=null!=e.name&&""!==e.name.replace(/\s/g,"")?e.name:n,s=!1!==e.cache&&s),n=void 0,i._isDefine_=!0,i._defineQueue_.offer(function(e){i.imports(o,t,function(t,o){e({define:r,paramModules:t,cache:s})})})}.bind(this);e.amd={modular:!0},window[s.DEFINE]=e},p.prototype.transpile=function(t){return t},p.prototype.loadModuleJs=function(t,e){this.load(t,function(t){e(t.data,t.cache)})},p.prototype.loadModuleNode=function(t,e){var o=this,i=new l,n={},s=!0,u=new r(function(){e(n,s),t.complete()}),c=t.libData;void 0!==c&&(t.url=c.propPath),t.isGlobal=!1,this.loadModuleAsString(t.url,function(e,r,c,p){a.eachObj(r,function(e,r,c){u.add(e,function(u){o.makeModuleFunction(o.transpile(r))(new l,{},i.message.self()),o.loadModule(t,u,e,function(t){a.assign(n,t.self),s=(!0!==s||!1!==t.cache)&&s,u()}),o.loadComplete(e)})}),u.start()})},p.prototype.loadModuleView=function(t,e){var o=new c,r=t.libData;void 0!==r&&(t.url=r.propPath),this.loadModuleAsString(t.url,function(r,i,n,s){o.initRender(this.makeRender().bind(this,o,r,s)),e(o),t.complete()}.bind(this))},p.prototype.load=function(t,e){var o,r,i,n=t.libData,u=document.getElementsByTagName("head")[0],a=this.createNode(t);void 0!==n?(t.url=n.path,t.moduleName=o=n.self,t.isGlobal=n.isGlobal,i=!0):(o=t.moduleName,t.isGlobal=!1,i=!1),t.isLib=i,a.src=t.url,a.setAttribute(s.MODULE_NAME,o),r=function(o){this.onLoadScript(o,t,a,r,e)}.bind(this),a.addEventListener("load",r,!1),u.appendChild(a)},p.prototype.onLoadScript=function(t,e,o,r,i){"load"===t.type&&(o.removeEventListener(o,r,t.type),this.loadModule(e,e.complete,o.getAttribute(s.MODULE_NAME),i),this.loadComplete(e.moduleName))},p.prototype.loadModule=function(t,e,o,r){var i=this._isDefine_?this._defineQueue_.peek():void 0;i&&!t.isGlobal?this.loadDefineModule(t,r,e,o,i):this.loadGlobalModule(t,r,e)},p.prototype.loadDefineModule=function(t,e,o,r,i){var n=this;i(function(i){t.moduleData=i;var s=n.getModule(t,r);e(s),o()})},p.prototype.loadGlobalModule=function(t,e,o){var r=t.moduleName,i=r;t.isLib||(i+=": There is no define function declared. ");var n=this.getGlobalModule(r);void 0!==n?e({data:n,cache:!0}):i+=" â€»fail loading module.",o(),i!==r&&a.warn(i)},p.prototype.loadComplete=function(t){this._isDefine_=!1,this.removeScriptNode(t)},p.prototype.getModule=function(t,e){var o=t.moduleData,r={};return r.name=e,r.self={},r.data=o.define.apply(o.paramModules||[],o.paramModules),r.self[e]=r.data,r.cache=o.cache,r},p.prototype.removeScriptNode=function(t){var e,o=document.getElementsByTagName("script");a.each(function(r,i){if((e=o[r]).hasAttribute(s.MODULE_NAME)&&t===e.getAttribute(s.MODULE_NAME))return e.parentNode.removeChild(e),!1})},p.prototype.getGlobalModule=function(t){var e=window||o,r=e[t]||void 0;return void 0!==r&&delete e[t],r},p.prototype.createNode=function(t){var e=document.createElement("script");return e.type="text/javascript",e.charset="utf-8",e.async=!0,e},p.prototype.loadModuleAsString=function(t,e){u.getAsync(t,function(t){t=a.removeAnnotation(t);var o=this.getScriptFromString(t);e(t,o.modules,o.nodes,o.scripts)}.bind(this))},p.prototype.makeModuleFunction=function(t){try{return Function(s.MODULE,s.EXPORTS,s.MESSAGE,t)}catch(e){a.error("syntax error: "+t)}},p.prototype.makeRender=function(){return function(t,e,o,r,i){if(document.getElementById(r).innerHTML=e,!1===i)return!1;a.each(o,function(e,o){this.makeModuleFunction(this.transpile(o))(new l,{},t.message.self())}.bind(this))}},p.prototype.getScriptFromString=function(t){var e,o,r,i=0,n=0,u={},c={},l=[];if(void 0!==t&&"string"==typeof t)for(;-1!=t.indexOf("<script");){i=t.indexOf("<script"),n=t.indexOf("</script"),r=t.substring(i,n)+"<\/script>",t=t.substring(n+9,t.length);try{o=a.DOMParser.parseFromString(r,"application/xml").getElementsByTagName("script")}catch(t){a.error("syntax error:"+r)}if(0===o.length)break;r=r.substring(r.indexOf(">")+1,r.indexOf("<\/script>")),o=o[0],this.isIgnoreScript(o)||(this.isModuleScript(o)&&(c[e=o.getAttribute(s.MODULE_NAME)]=o,u[e]=r),l.push(r))}return{modules:u,nodes:c,scripts:l}},p.prototype.isModuleScript=function(t){return t.hasAttribute(s.MODULE_NAME)},p.prototype.isIgnoreScript=function(t){return t.hasAttribute(s.MODULE_IGNORE)&&"true"===t.getAttribute(s.MODULE_IGNORE)},p.prototype.imports=function(t,e,o){var i,n,u=e._self_.defaultDeps,c=new r,l=[],p={},d=this;a.eachObj(t,function(t,o,r){Array.isArray(r[t])&&(p[t]={},p[t][s.DEFAULT_DEPS]={},l.push(p[t]),i=u[t],n=i.concat(o).filter(function(t,e,o){return o.indexOf(t)===e}),a.each(n,function(o,r){d.importModule({type:t,path:r,config:e,importPromise:c,isDefault:i.indexOf(r)>-1,libData:e.getLibData(r),moduleName:a.getNameFromPath(r),importModules:p})}))}),c.setComplete(function(){o(l,function(){d._cache_.clear()})}),c.start()},p.prototype.importModule=function(t){t.setModuleDataFun=function(e,o){!0===t.isDefault?t.importModules[e][s.DEFAULT_DEPS][t.moduleName]=o:t.importModules[e][t.moduleName]=o},t.type===s.REQUIRE_JS?this.importModuleJs(t):t.type===s.REQUIRE_PAGE?this.importModuleNode(t):t.type===s.REQUIRE_VIEW&&this.importModuleView(t)},p.prototype.importModuleJs=function(t){var e=this,o=t.moduleName;t.importPromise.add(o,function(r){if(e._cache_.has(o))return t.setModuleDataFun(s.REQUIRE_JS,e._cache_.get(o)),r(),!1;t.url=t.config.getResourceUrl(t.path),t.complete=r,e.loadModuleJs(t,function(r,i){t.setModuleDataFun(s.REQUIRE_JS,r),!0===i&&e._cache_.set(o,r)})})},p.prototype.importModuleNode=function(t){var e=this,o=t.moduleName;t.importPromise.add(o,function(r){if(e._cache_.has(o))return t.setModuleDataFun(s.REQUIRE_JS,e._cache_.get(o)),r(),!1;t.url=t.config.getRequestUrl(t.path),t.complete=r,e.loadModuleNode(t,function(r,i){t.setModuleDataFun(s.REQUIRE_PAGE,r),!0===i&&e._cache_.set(o,r)})})},p.prototype.importModuleView=function(t){var e=t.moduleName+s.CACHE_VIEW_SUFFIX,o=this;t.importPromise.add(t.moduleName,function(r){if(o._cache_.has(e))return t.setModuleDataFun(s.REQUIRE_JS,o._cache_.get(e)),r(),!1;t.url=t.config.getRequestUrl(t.path),t.complete=r,o.loadModuleView(t,function(r){t.setModuleDataFun(s.REQUIRE_VIEW,r.exports),o._cache_.set(e,r.exports)})})},p.prototype.syncLoadModuleJs=function(t,e,o){var r=s.CACHE_SYNC_PREFIX+t;if(this._cache_.has(r))return this._cache_.get(r);void 0!==o&&(e=o.path);var i=this.getModuleString(e),n=new l;return this.makeModuleFunction(this.transpile(i))(n,n.exports,n.message.self()),o.isGlobal&&(n.exports=this.getGlobalModule(o.self)),!1!==n.cache&&this._cache_.set(r,n.exports),n.exports},p.prototype.syncLoadModuleNode=function(t,e,o){var r=s.CACHE_SYNC_PREFIX+t;if(this._cache_.has(r))return this._cache_.get(r);void 0!==o&&(e=o.propPath);var i,n=this.getModuleString(e),u=this.getScriptFromString(n).modules,a=new l;for(var c in u)i=new l,this.makeModuleFunction(this.transpile(u[c]))(i,i.exports,a.message.self()),a.exports[c]=i.exports;return!1!==a.cache&&this._cache_.set(r,a.exports),a.exports},p.prototype.syncLoadModuleNodeByName=function(t,e,o,r){var i=s.CACHE_SYNC_PREFIX+t;if(this._cache_.has(i))return this._cache_.get(i);void 0!==o&&(e=o.propPath);var n=this.getModuleString(e),u=this.getScriptFromString(n).modules,a=new l;for(var c in u)if(r===c){this.makeModuleFunction(this.transpile(u[c]))(a,a.exports,a.message.self());break}return!1!==a.cache&&this._cache_.set(i,a.exports),a.exports},p.prototype.syncLoadModuleView=function(t,e,o){var r=s.CACHE_SYNC_PREFIX+t+s.CACHE_VIEW_SUFFIX;if(this._cache_.has(r))return this._cache_.get(r);void 0!==o&&(e=o.propPath);var i=this.getModuleString(e),n=this.getScriptFromString(i).scripts,u=new c;return u.initRender(this.makeRender().bind(this,u,i,n)),!1!==u.cache&&this._cache_.set(r,u.exports),u.exports},p.prototype.getModuleString=function(t){var e;return u.getSync(t,function(t){t=a.removeAnnotation(t),e=t}),e},e.exports=new p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/ajax":9,"../util/cache":10,"../util/promise":12,"../util/queue":13,"../util/util":14,"../util/word":15,"./module":7,"./module-view":6}],5:[function(t,e,o){"use strict";var r=function(){this._storage_={},this._self_={},this._self_.on=function(t,e){return this._storage_[t]=e,this._self_}.bind(this)};r.prototype.self=function(){return this._self_},r.prototype.postMessage=function(t,e){return void 0!==this._storage_[t]&&this._storage_[t](e),this._self_},e.exports=r},{}],6:[function(t,e,o){"use strict";var r=t("./module"),i=t("../util/Util"),n=function(){return this._create_=function(){var t=new r;return this.extendToModuleForView(t),t},this._create_()};n.prototype.extendToModuleForView=function(t){t.renderIds=[],t.messageStorage={},t.initRender=function(t){this.exports.render=this.exports.render.bind(this,t)},this.extendToExportsForView.call(t,t.exports),i.defineProperty(t,"messageStorage"),i.defineProperty(t,"message")},n.prototype.extendToExportsForView=function(t){t.postMessage=function(t,e){return this.message.postMessage(t,e),this.exports}.bind(this),t.render=function(t,e){if(void 0!==e&&"string"==typeof e){e=e.split(",");var o=!0,r=this;i.each(e,function(e,i){t(i,o),r.renderIds.push(i),o=!1})}else i.warn("render() parameter: not exists area id for render!");return this.exports},t.destroy=function(t){var e=this.renderIds,o=null==t?void 0:t.split(",");return i.eachRvs(e,function(r,i){if(void 0===t||-1!=o.indexOf(i)){for(var n=document.getElementById(i);n.firstChild;)n.removeChild(n.firstChild);e.splice(r,1)}}),this.exports}.bind(this)},e.exports=n},{"../util/Util":8,"./module":7}],7:[function(t,e,o){"use strict";var r=t("./message"),i=t("../util/Util"),n=function(t){return this._create_=function(){var t=this.createModule();return t.message=new r,t.cache=!0,i.defineProperty(t,"exports"),i.defineProperty(t,"cache",{configurable:!1,enumerable:!1,writable:!0}),t},this._create_()};n.prototype.createModule=function(){var t={};return t.exports=this.createExports(),t},n.prototype.createExports=function(){return{}},e.exports=n},{"../util/Util":8,"./message":5}],8:[function(require,module,exports){"use strict";var Word=require("./word"),Util={DOMParser:new DOMParser,assign:function(t,e){for(var o in e)t[o]=e[o]},each:function(t,e){var o;if(t)for(o=0;o<t.length;o++)if(t[o]&&!1===e(o,t[o]))return!1;return!0},eachRvs:function(t,e){var o;if(t)for(o=t.length-1;o>=0;o--)if(t[o]&&!1===e(o,t[o]))return!1;return!0},eachObj:function(t,e){var o;if(t)for(o in t)if(!1==!e(o,t[o],t))return!1;return!0},defineProperty:function(t,e,o){o=o||{configurable:!1,enumerable:!1},Object.defineProperty(t,e,o)},getNameFromPath:function(t){var e=0;return 0!=(e+="./"===(t=String(t)).split("./")[0]?2:"/"===t[0]?1:0)&&(t=t.substring(e,t.length)),-1!=(e=t.lastIndexOf("."))&&(t=t.substring(0,e)),t},isEs6Browser:function(){try{eval("function foo(bar, ...rest) { return 1; };")}catch(t){return!1}return!0}(),removeAnnotation:function(t){return t.replace(/(\/\*(\s|\S)*?\*\/)|<!-{2,}(\s|\S)*?-{2,}>|^\/\/.*/g,"")},warn:function(t){console.warn("modular >> "+t)},error:function(t){console.error("modular >> "+t)}};module.exports=Util},{"./word":15}],9:[function(t,e,o){"use strict";var r=t("./util"),i=function(){this._async_=!1};i.prototype.async=function(t){return this._async_=void 0!==t&&t,this},i.prototype.createXMLHttpRequest=function(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},i.prototype.$=function(t,e){var o=this.createXMLHttpRequest();o.open("GET",t,this._async_);var i={};return o.onload=function(o){var n=o.target.status;200!==n&&r.error("module:["+t+"] status:["+n+"]."),e(i,o)},o.send(),i.data},i.prototype.getSync=function(t,e){return this.async(!1),this.$(t,function(t,o){var r=o.target.response||o.target.responseText;t.data=e(r)})},i.prototype.getAsync=function(t,e){this.async(!0),this.$(t,function(t,o){var r=o.target.response||o.target.responseText;e(r)})},e.exports=new i},{"./util":14}],10:[function(t,e,o){"use strict";var r=function(){this._self_={}};r.prototype.has=function(t){return this._self_.hasOwnProperty(t)},r.prototype.get=function(t){return this._self_[t]},r.prototype.set=function(t,e){this._self_[t]=e},r.prototype.clear=function(){this._self_={}},e.exports=r},{}],11:[function(t,e,o){e.exports=function(){}},{}],12:[function(t,e,o){"use strict";var r=t("../util/util"),i=function(t){this._array_=[],this._completeFun_=t};i.prototype.add=function(t,e){this._array_.push({name:t,fun:e,isLoad:!1})},i.prototype.start=function(){var t=this;0===t._array_.length&&this.runComplete(),r.each(t._array_,function(e,o){o.fun(t.complete.bind(t,o))})},i.prototype.complete=function(t){t.isLoad=!0,this.isComplete()&&this.runComplete()},i.prototype.isComplete=function(){return r.each(this._array_,function(t,e){if(!1===e.isLoad)return!1})},i.prototype.setComplete=function(t){this._completeFun_=void 0===t?function(){}:t},i.prototype.runComplete=function(){if(void 0===this._completeFun_)return!1;this._completeFun_(),this._completeFun_=void 0},e.exports=i},{"../util/util":14}],13:[function(t,e,o){"use strict";var r=function(){this._stop_=!1,this._self_=[]};r.prototype.offer=function(t){this._self_.push(t),!1===this._stop_&&this.peek()()},r.prototype.peek=function(){return this._self_.shift()},r.prototype.isEmpty=function(){return 0===this._self_.length},r.prototype.stop=function(){this._stop_=!0},r.prototype.run=function(){for(;!this.isEmpty();)this.peek()();this._stop_=!1},e.exports=r},{}],14:[function(t,e,o){arguments[4][8][0].apply(o,arguments)},{"./word":15,dup:8}],15:[function(t,e,o){"use strict";e.exports={REQUIRE_PAGE:"request",REQUIRE_JS:"require",REQUIRE_VIEW:"requestView",REQUIRE_IMPORT:"imports",DEFAULT_DEPS:"$default",MODULE:"module",EXPORTS:"exports",MESSAGE:"message",DEFINE:"define",MODULAR_CONFIGURE:"modular",MODULE_NAME:"module-name",MODULE_IGNORE:"module-ignore",ES6_TYPE:"text/babel",ES6_PRESET:"es2015",CACHE_VIEW_SUFFIX:"-view",CACHE_SYNC_PREFIX:"cache-sync-"}},{}]},{},[1]);